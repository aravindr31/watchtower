---
const { currentPage, totalPages } = Astro.props;

const pageUrl = Astro.url;

// Generate the page URLs
const getPageUrl = (page: number) => {
  page != 1
    ? pageUrl.searchParams.set("page", `${page}`)
    : pageUrl.searchParams.delete("page");

  return pageUrl;
};
---

<div class="flex items-center justify-center space-x-2 p-4">
  <a
    href={currentPage > 1 ? getPageUrl(currentPage - 1) : "#"}
    aria-disabled={currentPage === 1}
    class={`px-4 py-2 rounded text-white bg-[#28a745] ${currentPage === 1 ? "opacity-50 cursor-not-allowed" : "hover:bg-gray-100 hover:text-gray-800"}`}
  >
    Previous
  </a>

  {
    Array.from({ length: totalPages }, (_, i) => (
      <a
        href={getPageUrl(i + 1)}
        class={`px-4 py-2  text-gray-600 ${currentPage === i + 1 ? "" : "hover:bg-[#28a745] hover:text-white hover:rounded-lg"}`}
      >
        {i + 1}
      </a>
    ))
  }

  <a
    href={currentPage < totalPages ? getPageUrl(currentPage + 1) : "#"}
    aria-disabled={currentPage === totalPages}
    class={`px-4 py-2 rounded text-white bg-[#28a745] ${currentPage === totalPages ? "opacity-50 cursor-not-allowed" : "hover:bg-gray-100 hover:text-gray-800"}`}
  >
    Next
  </a>
</div>
